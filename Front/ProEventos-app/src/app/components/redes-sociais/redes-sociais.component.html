<div [formGroup]="formRedesSociais">
  <div class="row p-1">
    <div class="form-group col-12 p-1 m-0">
      <h4 class="border-bottom">Detalhe Rede Social</h4>
    </div>
    <div class="form-group p-1 m-0">
      <p>
        Clique em Rede Social para adicionar e preencher novas Redes Sociais
      </p>
    </div>
    <div class="form-group p-1 m-0">
      <div formArrayName="redesSociais">
        @for (redeSocial of redesSociais.controls; track redeSocial; let
        i=$index) {
        <fieldset [formGroupName]="i" class="form-group">
          <legend class="d-flex justify-content-between capitalize">
            {{ retornaTitulo(i) }}
            <button
              class="p-2 btn btn-sm btn-outline-warning mb-1 d-flex"
              tooltip="Excluir Rede Social"
              [adaptivePosition]="false"
              [delay]="500"
              (click)="removerRedeSocial(template, i)"
              placement="left"
            >
              <i class="fa fa-window-close my-1"></i>
              <b class="ms-1 d-none d-sm-block">Excluir</b>
            </button>
          </legend>
          <div class="row">
            <div class="form-group col-md-4">
              <label>Nome</label>
              <select
                class="form-control"
                [ngClass]="fieldValidator(redesSociais.get(i + '.nome'))"
                formControlName="nome"
              >
                <option value="">Selecione</option>
                <option value="fab fa-youtube"> Youtube</option>
                <option value="fab fa-instagram">Instagram</option>
                <option value="fab fa-facebook">Facebook</option>
                <option value="fab fa-google">Google</option>
                <option value="fab fa-linkedin">LinkedIn</option>
                <option value="fab fa-pintrest">Pintrest</option>
                <option value="fab fa-whatsapp">Whatsapp</option>
                <option value="fab fa-telegram">Telegram</option>
                <option value="fab fa-skype">skype</option>
                <option value="fab fa-vimeo">vimeo</option>
              </select>
            </div>
            <div class="invalid-feedback">
              {{ messageReturned(redesSociais.get(i + ".nome"), "") }}
            </div>
            <div class="form-group col-md-4">
              <label>url</label>
              <input
                type="text"
                class="form-control"
                [ngClass]="fieldValidator(redesSociais.get(i + '.url'))"
                formControlName="url"
              />
            </div>
          </div>
        </fieldset>
        <br>
        }
      </div>
    </div>
    <div class="form-group p-1 m-0">
      <button (click)="adicionarRedeSocial()" class="btn btn-outline-primary">
        <i class="fa fa-plus-circle mr-1"></i>
        <b class="ms-1">Rede Social</b>
      </button>
    </div>
  </div>
  <div class="card-footer bg-primary">
    <div class="d-flex">
      <button class="btn btn-danger me-auto" (click)="resetForm()">
        Cancelar Alteração
      </button>
      <button
        (click)="salvarRedeSocial()"
        class="btn btn-success ms-2"
        [disabled]="formRedesSociais.invalid"
      >
        Salvar Rede Social
      </button>
    </div>
  </div>
</div>

<ng-template #template>
  <div class="modal-body text-center">
    <p>Confirma a exclusão da Rede Social {{ this.redeSocialAtual.nome }} ?</p>
    <button type="button" class="btn btn-default" (click)="confirmDeleteLote()">
      Sim
    </button>
    <button type="button" class="btn btn-primary" (click)="declineDeleteLote()">
      Não
    </button>
  </div>
</ng-template>

<!-- {{ formRedesSociais.value | json }}
{{ formRedesSociais.status }} -->
